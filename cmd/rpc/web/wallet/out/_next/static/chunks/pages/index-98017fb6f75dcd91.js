(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(5322)}])},5322:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return eB}});var n=a(5893),r=a(3353),s=a(5264),o=a(6159),l=a(5886),i=a(8748),d=a(2280),c=a(9209),u=a(2854);function p(e,t,a,n){let r=null,s=n&&n.address?n.net_address:"",o=!!n&&!!n.address&&n.delegate,l=!!n&&!!n.address&&n.compound,i=n&&n.address?n.output:"",d=null!=a?a.address:"",c=null!=t?t.publicKey:"",u=null!=a?a.address:"",p=n&&n.address?n.committees.join(","):"";d="send"!==e&&n&&n.address?n.address:d,d="stake"===e&&n&&n.address?"WARNING: validator already staked":d,("edit-stake"===e||"stake"===e)&&(r=n&&n.address?n.staked_amount:null);let m={privateKey:{placeholder:"opt: private key hex to import",defaultValue:"",tooltip:"the raw private key to import if blank - will generate a new key",label:"private_key",inputText:"key",feedback:"please choose a private key to import",required:!1,type:"password",minLength:64,maxLength:128},address:{placeholder:"short public key of the node",defaultValue:d,tooltip:"the short public key id of the transaction",label:"sender",inputText:"address",feedback:"please choose an address to send the transaction from",required:!0,type:"text",minLength:40,maxLength:40},pubKey:{placeholder:"public key of the node",defaultValue:c,tooltip:"the public key of the validator",label:"pubKey",inputText:"pubKey",feedback:"please choose a pubKey to send the transaction from",required:!0,type:"text",minLength:96,maxLength:96},committees:{placeholder:"1, 22, 50",defaultValue:p,tooltip:"comma separated list of committee chain IDs to stake for",label:"committees",inputText:"committees",feedback:"please input atleast 1 committee",required:!0,type:"text",minLength:1,maxLength:200},netAddr:{placeholder:"url of the node",defaultValue:s,tooltip:"the url of the validator for consensus and polling",label:"net_address",inputText:"net-addr",feedback:"please choose a net address for the validator",required:!0,type:"text",minLength:5,maxLength:50},earlyWithdrawal:{placeholder:"early withdrawal rewards for 20% penalty",defaultValue:!l,tooltip:"validator NOT reinvesting their rewards to their stake, incurring a 20% penalty",label:"earlyWithdrawal",inputText:"withdrawal",feedback:"please choose if your validator to earlyWithdrawal or not",required:!0,type:"text",minLength:4,maxLength:5},delegate:{placeholder:"validator delegation status",defaultValue:o,tooltip:"validator is passively delegating rather than actively validating. NOTE: THIS FIELD IS FIXED AND CANNOT BE UPDATED WITH EDIT-STAKE",label:"delegate",inputText:"delegate",feedback:"please choose if your validator is delegating or not",required:!0,type:"text",minLength:4,maxLength:5},rec:{placeholder:"recipient of the tx",defaultValue:"",tooltip:"the recipient of the transaction",label:"recipient",inputText:"recipient",feedback:"please choose a recipient for the transaction",required:!0,type:"text",minLength:40,maxLength:40},amount:{placeholder:"amount value for the tx",defaultValue:r,tooltip:"the amount of currency being sent / sold",label:"amount",inputText:"amount",feedback:"please choose an amount for the tx",required:!0,type:"number",minLength:1,maxLength:100},receiveAmount:{placeholder:"amount of counter asset to receive",defaultValue:r,tooltip:"the amount of counter asset being received",label:"receiveAmount",inputText:"rec-amount",feedback:"please choose a receive amount for the tx",required:!0,type:"number",minLength:1,maxLength:100},orderId:{placeholder:"the id of the existing order",tooltip:"the unique identifier of the order",label:"orderId",inputText:"order-id",feedback:"please input an order id",required:!0,type:"number",minLength:1,maxLength:100},committeeId:{placeholder:"the id of the committee / counter asset",tooltip:"the unique identifier of the committee / counter asset",label:"committeeId",inputText:"commit-Id",feedback:"please input a committeeId id",required:!0,type:"number",minLength:1,maxLength:100},receiveAddress:{placeholder:"the address where the counter asset will be sent",tooltip:"the sender of the transaction",label:"receiveAddress",inputText:"rec-addr",feedback:"please choose an address to receive the counter asset to",required:!0,type:"text",minLength:40,maxLength:40},output:{placeholder:"output of the node",defaultValue:i,tooltip:"the non-custodial address where rewards and stake is directed to",label:"output",inputText:"output",feedback:"please choose an output address for the validator",required:!0,type:"text",minLength:40,maxLength:40},signer:{placeholder:"signer of the transaction",defaultValue:u,tooltip:"the signing address that authorizes the transaction",label:"signer",inputText:"signer",feedback:"please choose a signer address",required:!0,type:"text",minLength:40,maxLength:40},paramSpace:{placeholder:"",defaultValue:"",tooltip:"the category 'space' of the parameter",label:"param_space",inputText:"param space",feedback:"please choose a space for the parameter change",required:!0,type:"select",minLength:1,maxLength:100},paramKey:{placeholder:"",defaultValue:"",tooltip:"the identifier of the parameter",label:"param_key",inputText:"param key",feedback:"please choose a key for the parameter change",required:!0,type:"select",minLength:1,maxLength:100},paramValue:{placeholder:"",defaultValue:"",tooltip:"the newly proposed value of the parameter",label:"param_value",inputText:"param val",feedback:"please choose a value for the parameter change",required:!0,type:"text",minLength:1,maxLength:100},startBlock:{placeholder:"1",defaultValue:"",tooltip:"the block when voting starts",label:"start_block",inputText:"start blk",feedback:"please choose a height for start block",required:!0,type:"number",minLength:0,maxLength:40},endBlock:{placeholder:"100",defaultValue:"",tooltip:"the block when voting is counted",label:"end_block",inputText:"end blk",feedback:"please choose a height for end block",required:!0,type:"number",minLength:0,maxLength:40},memo:{placeholder:"opt: note attached with the transaction",defaultValue:"",tooltip:"an optional note attached to the transaction - blank is recommended",label:"memo",inputText:"memo",required:!1,minLength:0,maxLength:200},fee:{placeholder:"opt: transaction fee",defaultValue:"",tooltip:" a small amount of CNPY deducted from the account to process any transaction blank = default fee",label:"fee",inputText:"txn-fee",feedback:"please choose a valid number",required:!1,type:"number",minLength:0,maxLength:40},password:{placeholder:"key password",defaultValue:"",tooltip:"the password for the private key sending the transaction",label:"password",inputText:"password",feedback:"please choose a valid password",required:!0,type:"password",minLength:0,maxLength:40}};switch(e){case"send":return[m.address,m.rec,m.amount,m.memo,m.fee,m.password];case"stake":return[m.address,m.pubKey,m.committees,m.netAddr,m.amount,m.delegate,m.earlyWithdrawal,m.output,m.signer,m.memo,m.fee,m.password];case"create_order":return[m.address,m.committeeId,m.amount,m.receiveAmount,m.receiveAddress,m.memo,m.fee,m.password];case"edit_order":return[m.address,m.committeeId,m.orderId,m.amount,m.receiveAmount,m.receiveAddress,m.memo,m.fee,m.password];case"delete_order":return[m.address,m.committeeId,m.orderId,m.memo,m.fee,m.password];case"edit-stake":return[m.address,m.committees,m.netAddr,m.amount,m.earlyWithdrawal,m.output,m.signer,m.memo,m.fee,m.password];case"change-param":return[m.address,m.paramSpace,m.paramKey,m.paramValue,m.startBlock,m.endBlock,m.memo,m.fee,m.password];case"dao-transfer":return[m.address,m.amount,m.startBlock,m.endBlock,m.memo,m.fee,m.password];case"pause":case"unpause":case"unstake":return[m.address,m.signer,m.memo,m.fee,m.password];case"pass-and-addr":return[m.address,m.password];case"pass-and-pk":return[m.privateKey,m.password];case"pass-only":return[m.password];default:return[m.address,m.memo,m.fee,m.password]}}let m={poll:{"PLACEHOLDER EXAMPLE":{proposalHash:"PLACEHOLDER EXAMPLE",proposalURL:"https://discord.com/channels/1310733928436600912/1323330593701761204",accounts:{approvedPercent:38,rejectPercent:62,votedPercent:35},validators:{approvedPercent:76,rejectPercent:24,votedPercent:77}}},pollJSON:{proposal:"canopy network is the best",endBlock:100,URL:"https://discord.com/link-to-thread"},proposals:{"2cbb73b8abdacf233f4c9b081991f1692145624a95004f496a95d3cce4d492a4":{proposal:{parameter_space:"cons|fee|val|gov",parameter_key:"protocol_version",parameter_value:"example",start_height:1,end_height:1e6,signer:"4646464646464646464646464646464646464646464646464646464646464646"},approve:!1}},params:{parameter_space:"consensus",parameter_key:"protocol_version",parameter_value:"1/150",start_height:1,end_height:100,signer:"303739303732333263..."},rawTx:{type:"change_parameter",msg:{parameter_space:"cons",parameter_key:"block_size",parameter_value:1e3,start_height:1,end_height:100,signer:"1fe1e32edc41d688..."},signature:{public_key:"a88b9c0c7b77e7f8ac...",signature:"8f6d016d04e350..."},memo:"",fee:1e4}};function h(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e15;return null==e?"zero":(t&&(e/=1e6),Number(e)<a)?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):Intl.NumberFormat("en",{notation:"compact",maximumSignificantDigits:8}).format(e)}function x(e,t,a){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Copied!";navigator.clipboard.writeText(a),t({...e,toast:n})}function f(e,t){return(0,n.jsx)(i.Z,{id:"toast",position:"bottom-end",children:(0,n.jsx)(d.Z,{bg:"dark",onClose:()=>t({...e,toast:""}),show:""!=e.toast,delay:2e3,autohide:!0,children:(0,n.jsx)(d.Z.Body,{children:e.toast})})})}function g(e,t,a){t.preventDefault();let n={};for(let e=0;t.target[e]&&t.target[e].ariaLabel;e++)n[t.target[e].ariaLabel]=t.target[e].value;a(n)}function y(e,t,a){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"right";return(0,n.jsx)(c.Z,{placement:r,delay:{show:250,hide:400},overlay:(0,n.jsx)(u.Z,{id:"button-tooltip",children:t}),children:e},a)}function b(e){return!e||0===Object.keys(e).length}let v=[{icon:"./account.png",tip:"accounts"},{icon:"./gov.png",tip:"governance"},{icon:"./dashboard.png",tip:"monitor"}],j=[{url:"https://discord.gg/pNcSJj7Wdh",icon:"./discord-filled.png"},{url:"https://x.com/CNPYNetwork",icon:"./twitter.png"}];function k(e){let{keystore:t,setActiveKey:a,keyIdx:i,setNavIdx:d}=e;return(0,n.jsx)(s.Z,{sticky:"top","data-bs-theme":"light",id:"nav-bar",children:(0,n.jsxs)(r.Z,{id:"nav-bar-container",children:[(0,n.jsxs)(s.Z.Brand,{id:"nav-bar-brand",children:["my ",(0,n.jsx)("span",{id:"nav-bar-brand-highlight",children:"canopy "}),"wallet"]}),(0,n.jsx)("div",{id:"nav-dropdown-container",children:(0,n.jsx)(o.Z,{id:"nav-dropdown",title:(0,n.jsxs)(n.Fragment,{children:[Object.keys(t)[i],(0,n.jsx)("img",{alt:"key",id:"dropdown-image",src:"./key.png"})]}),children:Object.keys(t).map((e,t)=>(0,n.jsx)(o.Z.Item,{onClick:()=>a(t),className:"nav-dropdown-item",children:e},t))})}),(0,n.jsx)("div",{id:"nav-bar-select-container",children:(0,n.jsx)(l.Z,{id:"nav-bar-select",justify:!0,variant:"tabs",defaultActiveKey:"0",children:v.map((e,t)=>(0,n.jsx)(l.Z.Item,{onClick:()=>d(t),children:y((0,n.jsx)(l.Z.Link,{eventKey:t.toString(),children:(0,n.jsx)("img",{className:"navbar-image-link",src:e.icon,alt:e.tip})}),e.tip,t,"bottom")},t))})}),(0,n.jsx)("a",{href:j[0].url,children:(0,n.jsx)("div",{id:"nav-social-icon-discord",style:{backgroundImage:"url("+j[0].icon+")"},className:"nav-social-icon"})}),(0,n.jsx)("a",{href:j[1].url,children:(0,n.jsx)("div",{style:{backgroundImage:"url("+j[1].icon+")"},className:"nav-social-icon"})})]})})}let N="http://127.0.0.1:50002",w="http://127.0.0.1:50003",T="/v1/admin/log",O="/v1/admin/consensus-info?id=1",S="/v1/admin/peer-info";async function P(e,t){let a=await fetch(e+t,{method:"GET"}).catch(e=>{console.log(e)});return null==a?{}:a.json()}async function I(e,t){let a=await fetch(e+t,{method:"GET"}).catch(e=>{console.log(e)});return null==a?{}:a.text()}async function L(e,t,a){let n=await fetch(e+t,{method:"POST",body:a}).catch(e=>{console.log(e)});return null==n?{}:n.json()}function E(e,t){return JSON.stringify({height:e,address:t})}function Z(e,t){return JSON.stringify({pageNumber:e,address:t,perPage:5})}function A(e,t){return JSON.stringify({approve:t,proposal:e})}function _(e,t,a,n){return JSON.stringify({address:e,pollJSON:t,pollApprove:n,password:a,submit:!0})}function R(e,t){return JSON.stringify({address:e,password:t,submit:!0})}function C(e,t,a,n,r,s,o,l,i,d,c,u,p){return JSON.stringify({address:e,pubKey:t,netAddress:n,committees:a,amount:r,delegate:s,earlyWithdrawal:o,output:l,signer:i,memo:d,fee:c,submit:u,password:p})}function K(e,t,a,n,r,s,o,l,i,d){return JSON.stringify({address:e,committees:t.toString(),orderId:a,amount:n,receiveAmount:r,receiveAddress:s,memo:o,fee:l,submit:i,password:d})}function D(e,t,a,n,r,s,o,l,i,d,c){return JSON.stringify({address:e,amount:t,paramSpace:a,paramKey:n,paramValue:r,startBlock:s,endBlock:o,memo:l,fee:i,submit:d,password:c})}async function M(){return P(w,"/v1/admin/keystore")}async function V(e,t){return L(w,"/v1/admin/keystore-get",R(e,t))}async function q(e){return L(w,"/v1/admin/keystore-new-key",R("",e))}async function J(e,t){return L(w,"/v1/admin/keystore-import-raw",JSON.stringify({privateKey:e,password:t}))}async function B(){return I(w,T)}async function F(e,t){return L(N,"/v1/query/account",E(e,t))}async function U(){return P(N,"/v1/gov/poll")}async function W(){return P(N,"/v1/gov/proposals")}async function H(e,t){return L(w,"/v1/gov/add-vote",A(JSON.parse(e),t))}async function z(e){return L(w,"/v1/gov/del-vote",A(JSON.parse(e)))}async function G(e,t,a){return L(w,"/v1/admin/tx-start-poll",_(e,JSON.parse(t),a))}async function Y(e,t,a,n){return L(w,"/v1/admin/tx-vote-poll",_(e,JSON.parse(t),n,a))}async function X(e,t,a){let n={};if(n.account=await F(e,t),n.sent_transactions=await L(N,"/v1/query/txs-by-sender",Z(a,t)),n.rec_transactions=await L(N,"/v1/query/txs-by-rec",Z(a,t)),n.combined=[],null!=n.sent_transactions.results&&null!=n.rec_transactions.results)n.combined=n.combined.concat(n.rec_transactions.results,n.sent_transactions.results);else if(null!=n.sent_transactions.results)n.combined=n.sent_transactions.results;else{if(null==n.rec_transactions.results)return n;n.combined=n.rec_transactions.results}return n.combined.sort(function(e,t){return t.height===e.height?t.index-e.index:t.height-e.height}),n}async function Q(e,t){return L(N,"/v1/query/validator",E(e,t))}async function $(){return P(w,"/v1/admin/resource-usage")}async function ee(e,t,a,n,r,s,o){return L(w,"/v1/admin/tx-send",C(e,"","",a,!1,!1,t,"",n,Number(r),o,s))}async function et(e,t,a,n,r,s,o,l,i,d,c,u,p){return L(w,"/v1/admin/tx-stake",C(e,t,a,n,r,"true"===s.toLowerCase(),"true"===o.toLowerCase(),l,i,d,Number(c),p,u))}async function ea(e,t,a,n,r,s,o,l,i,d,c){return L(w,"/v1/admin/tx-edit-stake",C(e,"",t,a,n,!1,"true"===r.toLowerCase(),s,o,l,Number(i),c,d))}async function en(e,t,a,n,r,s){return L(w,"/v1/admin/tx-unstake",C(e,"","","",0,!1,!1,"",t,a,Number(n),s,r))}async function er(e,t,a,n,r,s){return L(w,"/v1/admin/tx-pause",C(e,"","","",0,!1,!1,"",t,a,Number(n),s,r))}async function es(e,t,a,n,r,s){return L(w,"/v1/admin/tx-unpause",C(e,"","","",0,!1,!1,"",t,a,Number(n),s,r))}async function eo(e,t,a,n,r,s,o,l,i,d){return L(w,"/v1/admin/tx-change-param",D(e,0,t,a,n,Number(r),Number(s),o,Number(l),d,i))}async function el(e,t,a,n,r,s,o,l){return L(w,"/v1/admin/tx-dao-transfer",D(e,Number(t),"","","",Number(a),Number(n),r,Number(s),l,o))}async function ei(e,t,a,n,r,s,o,l,i){return L(w,"/v1/admin/tx-create-order",K(e,t,0,Number(a),Number(n),r,s,Number(o),i,l))}async function ed(e,t,a,n,r,s,o,l,i,d){return L(w,"/v1/admin/tx-edit-order",K(e,t,Number(a),Number(n),Number(r),s,o,Number(l),d,i))}async function ec(e,t,a,n,r,s,o){return L(w,"/v1/admin/tx-delete-order",K(e,t,Number(a),0,0,"",n,Number(r),o,s))}async function eu(e){return L(N,"/v1/tx",e)}async function ep(e){return L(N,"/v1/query/params",E(e,""))}async function em(){return P(w,O)}async function eh(){return P(w,S)}var ex=a(7294),ef=a(4373),eg=a(5377),ey=a(6529),eb=a(1417),ev=a(4283),ej=a(6374),ek=a(2448),eN=a(641),ew=a(5401),eT=a(4568),eO=a(8888);let eS=[{title:"SEND",name:"send",src:"arrow-up"},{title:"STAKE",name:"stake",src:"stake"},{title:"EDIT",name:"edit-stake",src:"edit-stake"},{title:"UNSTAKE",name:"unstake",src:"unstake"},{title:"PAUSE",name:"pause",src:"pause"},{title:"PLAY",name:"unpause",src:"unpause"},{title:"SWAP",name:"create_order",src:"swap"},{title:"REPRICE",name:"edit_order",src:"edit_order"},{title:"VOID",name:"delete_order",src:"delete_order"}];function eP(e){let{keygroup:t,account:a,validator:r}=e,[s,o]=(0,ex.useState)({showModal:!1,txType:"send",txResult:{},showSubmit:!0,showPKModal:!1,showPKImportModal:!1,showNewModal:!1,pk:{},toast:"",showSpinner:!1}),l=a.account;function i(){o({...s,pk:{},txResult:{},showSubmit:!0,showModal:!1,showPKModal:!1,showNewModal:!1,showPKImportModal:!1})}function d(e){g(s,e,e=>{e.private_key?J(e.private_key,e.password).then(e=>o({...s,showSpinner:!1})):q(e.password).then(e=>o({...s,showSpinner:!1}))})}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"outline-secondary",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pk-button";return(0,n.jsx)(ey.Z,{id:a,variant:t,type:"submit",children:e})}function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return(0,n.jsx)(ey.Z,{variant:"secondary",onClick:e,children:"Close"})}function m(e,t){return y((0,n.jsxs)("td",{onClick:()=>x(s,o,e),children:[(0,n.jsx)("img",{className:"account-summary-info-content-image",src:"./copy.png"}),(0,n.jsx)("div",{className:"account-summary-info-table-column",children:(0,n.jsx)(eg.Z,{text:e})})]}),e,t,"top")}function v(e,t,a,r,o,l,d,m,h){return(0,n.jsx)(ej.Z,{show:e,size:"lg",onHide:m,children:(0,n.jsxs)(ev.Z,{onSubmit:r,children:[(0,n.jsx)(ej.Z.Header,{children:(0,n.jsx)(ej.Z.Title,{children:t})}),(0,n.jsxs)(ej.Z.Body,{className:"modal-body",children:[p(a,o,l,d).map((e,t)=>(0,n.jsxs)(eb.Z,{className:"mb-3",size:"lg",children:[y((0,n.jsx)(eb.Z.Text,{className:"input-text",children:e.inputText}),e.tooltip,t,"auto"),(0,n.jsx)(ev.Z.Control,{placeholder:e.placeholder,required:e.required,defaultValue:e.defaultValue,min:0,type:e.type,minLength:e.minLength,maxLength:e.maxLength,"aria-label":e.label})]},t)),function(){let{pk:e,txResult:t}=s,a=b(e),r=b(t);return a&&r?(0,n.jsx)(n.Fragment,{}):(0,n.jsx)(ef.ZP,{value:a?{result:t}:{result:e},shortenTextAfterLength:100,displayDataTypes:!1})}(),(0,n.jsx)(ek.Z,{style:{display:s.showSpinner?"block":"none",margin:"0 auto"}})]}),(0,n.jsx)(ej.Z.Footer,{children:function(e){switch(e){case"import-or-generate":return c("Import or Generate Key");case"import-pk":return(0,n.jsxs)(n.Fragment,{children:[c("Import Key","outline-danger"),u(i)]});case"new-pk":return(0,n.jsxs)(n.Fragment,{children:[c("Generate New Key"),u(i)]});case"reveal-pk":return(0,n.jsxs)(n.Fragment,{children:[c("Get Private Key","outline-danger"),u(i)]});default:if(0===Object.keys(s.txResult).length)return(0,n.jsxs)(n.Fragment,{children:[c("Generate Transaction"),u()]});{let e=s.showSubmit?c("Submit Transaction","outline-danger"):(0,n.jsx)(n.Fragment,{});return(0,n.jsxs)(n.Fragment,{children:[e,u()]})}}}(h)})]})})}return t&&0!==Object.keys(t).length&&a.account?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"content-container",children:[(0,n.jsx)("span",{id:"balance",children:h(l.amount)}),(0,n.jsx)("span",{style:{fontWeight:"bold",color:"#32908f"},children:" CNPY"}),(0,n.jsx)("br",{}),(0,n.jsx)("hr",{style:{border:"1px dashed black",borderRadius:"5px",width:"60%",margin:"0 auto"}}),(0,n.jsx)("br",{}),v(s.showModal,s.txType,s.txType,function(e){g(s,e,e=>{let t=0!==Object.keys(s.txResult).length,a={send:()=>ee(e.sender,e.recipient,Number(e.amount),e.memo,e.fee,e.password,t),stake:()=>et(e.sender,e.pubKey,e.committees,e.net_address,Number(e.amount),e.delegate,e.earlyWithdrawal,e.output,e.signer,e.memo,e.fee,e.password,t),"edit-stake":()=>ea(e.sender,e.committees,e.net_address,Number(e.amount),e.earlyWithdrawal,e.output,e.signer,e.memo,e.fee,e.password,t),unstake:()=>en(e.sender,e.signer,e.memo,e.fee,e.password,t),pause:()=>er(e.sender,e.signer,e.memo,e.fee,e.password,t),unpause:()=>es(e.sender,e.signer,e.memo,e.fee,e.password,t),create_order:()=>ei(e.sender,e.committeeId,Number(e.amount),Number(e.receiveAmount),e.receiveAddress,e.memo,e.fee,e.password,t),edit_order:()=>ed(e.sender,e.committeeId,Number(e.orderId),Number(e.amount),Number(e.receiveAmount),e.receiveAddress,e.memo,e.fee,e.password,t),delete_order:()=>ec(e.sender,e.committeeId,e.orderId,e.memo,e.fee,e.password,t)}[s.txType];a&&a().then(e=>{o({...s,showSubmit:!t,txResult:e})})})},t,l,r,i),eS.map(function(e,t){return(0,n.jsxs)("div",{className:"send-receive-button-container",children:[(0,n.jsx)("img",{className:"send-receive-button",onClick:()=>{var t;return t=e.name,void o({...s,showModal:!0,txType:t})},src:"./".concat(e.src,".png"),alt:e.title}),(0,n.jsx)("span",{style:{fontSize:"10px"},children:e.title})]},t)}),(0,n.jsx)(eO.Z,{className:"account-summary-container",children:[{title:"Account Type",info:0===Object.keys(r).length||r.address===r.output?"CUSTODIAL":"NON-CUSTODIAL"},{title:"Stake Amount",info:null==r.staked_amount?"0.00":h(r.staked_amount),after:" cnpy"},{title:"Staked Status",info:r.address?r.unstaking_time?"UNSTAKING":"STAKED":"UNSTAKED"}].map(function(e,t){return(0,n.jsx)(eN.Z,{children:(0,n.jsxs)(ew.Z,{className:"account-summary-container-card",children:[(0,n.jsx)(ew.Z.Header,{style:{fontWeight:"100"},children:e.title}),(0,n.jsx)(ew.Z.Body,{style:{padding:"10px"},children:(0,n.jsxs)(ew.Z.Title,{style:{fontWeight:"bold",fontSize:"14px"},children:[e.info,(0,n.jsx)("span",{style:{fontSize:"10px",color:"#32908f"},children:e.after})]})})]})},t)})}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),[{title:"Address",info:l.address},{title:"Public Key",info:t.publicKey}].map(function(e,t){return(0,n.jsxs)("div",{className:"account-summary-info",onClick:()=>x(s,o,e.info),children:[(0,n.jsx)("span",{className:"account-summary-info-title",children:e.title}),(0,n.jsxs)("div",{className:"account-summary-info-content-container",children:[(0,n.jsx)("div",{className:"account-summary-info-content",children:(0,n.jsx)(eg.Z,{text:e.info})}),(0,n.jsx)("img",{className:"account-summary-info-content-image",style:{top:"-20px"},src:"./copy.png"})]})]},t)}),(0,n.jsx)("br",{}),0===a.combined.length?null:(0,n.jsxs)("div",{className:"recent-transactions-table",children:[(0,n.jsx)("span",{style:{textAlign:"center",fontWeight:"100",fontSize:"14px",color:"grey"},children:"RECENT TRANSACTIONS"}),(0,n.jsxs)(eT.Z,{className:"table-fixed",bordered:!0,hover:!0,style:{marginTop:"10px"},children:[(0,n.jsx)("thead",{children:(0,n.jsx)("tr",{children:["Height","Amount","Recipient","Type","Hash"].map((e,t)=>(0,n.jsx)("th",{children:e},t))})}),(0,n.jsx)("tbody",{children:a.combined.slice(0,5).map((e,t)=>{var a,r,s;return(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:e.height}),(0,n.jsx)("td",{children:null!==(r=null!==(a=e.transaction.msg.amount)&&void 0!==a?a:e.transaction.msg.AmountForSale)&&void 0!==r?r:"N/A"}),m(null!==(s=e.recipient)&&void 0!==s?s:e.sender,t),(0,n.jsx)("td",{children:e.message_type}),m(e.tx_hash,t)]},t)})})]})]}),f(s,o),v(s.showPKModal,"Private Key","pass-and-addr",function(e){g(s,e,e=>V(e.sender,e.password).then(e=>{o({...s,showSubmit:0===Object.keys(s.txResult).length,pk:e})}))},t,l,null,i,"reveal-pk"),v(s.showPKImportModal,"Private Key","pass-and-pk",()=>{d(),i()},t,l,null,i,"import-pk"),v(s.showNewModal,"Private Key","pass-only",function(e){g(s,e,e=>q(e.password).then(e=>{o({...s,showSubmit:0===Object.keys(s.txResult).length,pk:e})}))},null,null,null,i,"new-pk"),(0,n.jsx)(ey.Z,{id:"pk-button",variant:"outline-secondary",onClick:()=>o({...s,showNewModal:!0}),children:"New Private Key"}),(0,n.jsx)(ey.Z,{id:"import-pk-button",variant:"outline-secondary",onClick:()=>o({...s,showPKImportModal:!0}),children:"Import Private Key"}),(0,n.jsx)(ey.Z,{id:"reveal-pk-button",variant:"outline-danger",onClick:()=>o({...s,showPKModal:!0}),children:"Reveal Private Key"})]})}):v(!0,"UPLOAD PRIVATE OR CREATE KEY","pass-and-pk",d,null,null,null,null,"import-or-generate")}var eI=a(5152),eL=a.n(eI),eE=a(7123),eZ=a(6596),eA=a(6205),e_=a(9709),eR=a(6910),eC=a(3447);let eK=eL()(()=>a.e(391).then(a.t.bind(a,8391,23)).then(e=>e.LazyLog),{loadableGenerated:{webpack:()=>[8391]},ssr:!1});function eD(){let[e,t]=(0,ex.useState)({logs:"retrieving logs...",pauseLogs:!1,resource:[],consensusInfo:{},peerInfo:{}});function a(){let a=[em(),eh(),$()];e.pauseLogs||a.push(B()),Promise.all(a).then(e=>{let[a,n,r,s]=e;t(e=>{let t=e.resource.length>=30?[...e.resource.slice(1),r]:[...e.resource,r];return{...e,consensusInfo:a,peerInfo:n,resource:t,...e.pauseLogs?{}:{logs:s.toString()}}})})}if((0,ex.useEffect)(()=>{let e=setInterval(a,1e3);return()=>clearInterval(e)},[]),!e.consensusInfo.view||!e.peerInfo.id)return a(),(0,n.jsx)(ek.Z,{id:"spinner"});let s=Number(e.peerInfo.numInbound),o=Number(e.peerInfo.numOutbound),l=e.consensusInfo.view,i=function(e,t){let[a,n]=e>t?[e,t]:[t,e];for(let r=1;r<1e6;r++){let s=a/(n/r);if(.1>Math.abs(s-Math.round(s)))return e>t?"".concat(Math.round(s),":").concat(r):"".concat(r,":").concat(Math.round(s))}}(s=s||0,o=o||0),d=[{slides:[{title:e.consensusInfo.syncing?"SYNCING":"SYNCED",dT:"H: "+h(l.height,!1)+", R: "+l.round+", P: "+l.phase,d1:"PROP: "+(""===e.consensusInfo.proposer?"UNDECIDED":e.consensusInfo.proposer),d2:"BLK: "+(""===e.consensusInfo.blockHash?"WAITING":e.consensusInfo.blockHash),d3:e.consensusInfo.status},{title:"ROUND PROGRESS: "+({ELECTION:0,"ELECTION-VOTE":1,PROPOSE:2,"PROPOSE-VOTE":3,PRECOMMIT:4,"PRECOMMIT-VOTE":5,COMMIT:6,"COMMIT-PROCESS":7})[e.consensusInfo.view.phase]/8*100+"%",dT:"ADDRESS: "+e.consensusInfo.address,d1:"",d2:"",d3:""}],btnSlides:[{url:w+O,title:"QUORUM"},{url:w+"/v1/admin/config",title:"CONFIG"},{url:w+T,title:"LOGGER"}]},{slides:[{title:"TOTAL PEERS: "+(null==e.peerInfo.numPeers?"0":e.peerInfo.numPeers),dT:"INBOUND: "+s+", OUTBOUND: "+o,d1:"ID: "+e.peerInfo.id.public_key,d2:"NET ADDR: "+(e.peerInfo.id.net_address?e.peerInfo.id.net_address:"External Address Not Set"),d3:"I / O RATIO "+(i||"0:0")}],btnSlides:[{url:w+"/v1/admin/peer-book",title:"PEER BOOK"},{url:w+S,title:"PEER INFO"}]}];return(0,n.jsxs)("div",{className:"content-container",id:"dashboard-container",children:[(0,n.jsx)(r.Z,{id:"dashboard-inner",fluid:!0,children:(0,n.jsx)(eO.Z,{children:d.map((e,t)=>{var a;return(0,n.jsx)(eN.Z,{children:(0,n.jsxs)(eE.Z,{slide:!1,interval:null,className:"carousel",children:[e.slides.map((e,t)=>(0,n.jsx)(eE.Z.Item,{children:(0,n.jsx)(ew.Z,{className:"carousel-item-container",children:(0,n.jsxs)(ew.Z.Body,{children:[(0,n.jsx)(ew.Z.Title,{className:"carousel-item-title",children:(0,n.jsx)("span",{className:"text-white",children:e.title})}),(0,n.jsx)("p",{id:"carousel-item-detail-title",className:"carousel-item-detail",children:(0,n.jsx)(eg.Z,{text:e.dT})}),(0,n.jsx)("p",{className:"carousel-item-detail",children:(0,n.jsx)(eg.Z,{text:e.d1})}),(0,n.jsx)("p",{className:"carousel-item-detail",children:(0,n.jsx)(eg.Z,{text:e.d2})}),(0,n.jsx)("p",{children:e.d3})]})})},t)),(a=e.btnSlides,(0,n.jsx)(eE.Z.Item,{children:(0,n.jsx)(ew.Z,{className:"carousel-item-container",children:(0,n.jsxs)(ew.Z.Body,{children:[(0,n.jsx)(ew.Z.Title,{children:"EXPLORE RAW JSON"}),(0,n.jsx)("div",{children:a.map((e,t)=>(0,n.jsx)(ey.Z,{className:"carousel-btn",variant:"outline-secondary",onClick:()=>window.open(e.url,"_blank"),children:e.title},t))})]})})}))]})},t)})})}),(0,n.jsx)("hr",{id:"dashboard-hr"}),(0,n.jsx)("div",{onClick:()=>t({...e,pauseLogs:!e.pauseLogs}),className:"logs-button-container",children:(0,n.jsx)("img",{className:"logs-button",alt:"play-pause-btn",src:e.pauseLogs?"./unpause_filled.png":"./pause_filled.png"})}),(0,n.jsx)(eK,{enableSearch:!0,id:"lazy-log",text:e.logs.replace("\n","")}),(0,n.jsx)(r.Z,{id:"charts-container",children:[[{yax:"PROCESS",n1:"CPU %",d1:"process.usedCPUPercent",n2:"RAM %",d2:"process.usedMemoryPercent"},{yax:"SYSTEM",n1:"CPU %",d1:"system.usedCPUPercent",n2:"RAM %",d2:"system.usedRAMPercent"}],[{yax:"DISK",n1:"Disk %",d1:"system.usedDiskPercent",n2:""},{yax:"IN OUT",removeTick:!0,n1:"Received",d1:"system.ReceivedBytesIO",n2:"Written",d2:"system.WrittenBytesIO"}],[{yax:"THREADS",n1:"Thread Count",d1:"process.threadCount",n2:""},{yax:"FILES",n1:"File Descriptors",d1:"process.fdCount",n2:""}]].map((t,a)=>(0,n.jsx)(eO.Z,{children:[void 0,void 0].map((a,r)=>{let s=""===t[r].n2?(0,n.jsx)(n.Fragment,{}):(0,n.jsx)(eZ.u,{name:t[r].n2,type:"monotone",dataKey:t[r].d2,stroke:"#848484",fillOpacity:1,fill:"url(#cpu)"});return(0,n.jsx)(eN.Z,{children:(0,n.jsxs)(eA.T,{className:"area-chart",width:600,height:250,data:e.resource,margin:{top:40,right:40},children:[(0,n.jsx)(e_.B,{tick:!t[r].removeTick,tickCount:1,label:{value:t[r].yax,angle:-90}}),(0,n.jsx)(eZ.u,{name:t[r].n1,type:"monotone",dataKey:t[r].d1,stroke:"#eeeeee",fillOpacity:1,fill:"url(#ram)"}),s,(0,n.jsx)(eR.u,{contentStyle:{backgroundColor:"#222222"}}),(0,n.jsx)(eC.D,{})]})})})},a))}),(0,n.jsx)("div",{style:{height:"50px",width:"100%"}})]})}var eM=a(6495),eV=a(3148),eq=a(2311);function eJ(e){let{account:t}=e,[a,s]=(0,ex.useState)({txResult:{},rawTx:{},showPropModal:!1,apiResults:{},paramSpace:"",voteOnPollAccord:"1",voteOnProposalAccord:"1",propAccord:"1",txPropType:0,toast:"",voteJSON:{},pwd:""});function o(){Promise.all([U(),W(),ep(0)]).then(e=>{s({...a,apiResults:{poll:e[0],proposals:e[1],params:e[2]}})})}if((0,ex.useEffect)(()=>()=>clearInterval(setInterval(()=>o(),4e3)),[]),b(a.apiResults))return o(),(0,n.jsx)(ek.Z,{id:"spinner"});function l(e,t){return H(e,t).then(e=>s({...a,voteOnProposalAccord:"1",toast:"Voted!"}))}function i(e,t,n,r){return Y(e,t,n,r).then(e=>s({...a,voteOnPollAccord:"1",toast:"Voted!"}))}function d(){s({...a,paramSpace:"",txResult:{},showPropModal:!1})}function c(e){s({...a,txPropType:e,showPropModal:!0,paramSpace:"",txResult:{}})}function u(e,t){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("img",{className:"governance-header-image",alt:"vote",src:t}),(0,n.jsx)("span",{id:"propose-title",children:e}),(0,n.jsx)("span",{id:"propose-subtitle",children:"  on CANOPY"}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("hr",{className:"gov-header-hr"}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{})]})}function h(e,t,r,o,l){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:m.params,d=(e,t)=>s({...a,[e]:t,...e===r&&{voteJSON:t}});return(0,n.jsx)(eq.Z,{className:"accord",activeKey:a[t],onSelect:e=>d(t,e),children:(0,n.jsxs)(eq.Z.Item,{className:"accord-item",eventKey:"0",children:[(0,n.jsx)(eq.Z.Header,{children:e}),(0,n.jsxs)(eq.Z.Body,{children:[(0,n.jsx)(ev.Z.Control,{className:"accord-body-container",defaultValue:JSON.stringify(i,null,2),as:"textarea",onChange:e=>d(r,e.target.value)}),l&&(0,n.jsxs)(eb.Z,{className:"accord-pass-container",size:"lg",children:[(0,n.jsx)(eb.Z.Text,{children:"Password"}),(0,n.jsx)(ev.Z.Control,{type:"password",onChange:e=>d("pwd",e.target.value),required:!0})]}),o.map((e,t)=>(0,n.jsx)(ey.Z,{className:"propose-button",onClick:e.onClick,variant:"outline-dark",children:e.title},t))]})]})})}return b(a.apiResults.poll)?a.apiResults.poll=m.poll:a.apiResults.poll["PLACEHOLDER EXAMPLE"]=m.poll["PLACEHOLDER EXAMPLE"],b(a.apiResults.proposals)&&(a.apiResults.proposals=m.proposals),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"content-container",children:[u("poll","./poll.png"),(0,n.jsx)(eE.Z,{className:"poll-carousel",interval:null,"data-bs-theme":"dark",children:Array.from(Object.entries(a.apiResults.poll)).map((e,t)=>{let[a,s]=e;return(0,n.jsxs)(eE.Z.Item,{children:[(0,n.jsx)("h6",{className:"poll-prop-hash",children:s.proposalHash}),(0,n.jsx)("a",{href:s.proposalURL,className:"poll-prop-url",children:s.proposalURL}),(0,n.jsxs)(r.Z,{className:"poll-carousel-container",fluid:!0,children:[(0,n.jsx)(eM.$Q,{data:{labels:[s.accounts.votedPercent+"% Accounts Reporting",s.validators.votedPercent+"% Validators Reporting"],datasets:[{label:"% Voted YES",data:[s.accounts.approvedPercent,s.validators.approvedPercent],backgroundColor:"#7749c0"},{label:"% Voted NO",data:[s.accounts.rejectPercent,s.validators.rejectPercent],backgroundColor:"#000"}]},options:{responsive:!0,plugins:{tooltip:{enabled:!0}},scales:{y:{beginAtZero:!0,max:100}}}}),(0,n.jsx)("br",{})]})]},t)})}),(0,n.jsx)("br",{}),h("START OR VOTE ON POLL","voteOnPollAccord","voteJSON",[{title:"START NEW",onClick:()=>G(t.account.address,a.voteJSON,a.pwd).then(e=>s({...a,voteOnPollAccord:"1",toast:"Started Poll!"}))},{title:"APPROVE",onClick:()=>i(t.account.address,a.voteJSON,!0,a.pwd)},{title:"REJECT",onClick:()=>i(t.account.address,a.voteJSON,!1,a.pwd)}],!0,m.pollJSON),u("propose","./proposal.png"),(0,n.jsxs)(eT.Z,{className:"vote-table",bordered:!0,responsive:!0,hover:!0,children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"VOTE"}),(0,n.jsx)("th",{children:"PROPOSAL ID"}),(0,n.jsx)("th",{children:"ENDS"})]})}),(0,n.jsx)("tbody",{children:Array.from(Object.entries(a.apiResults.proposals).map((e,t)=>{let[a,r]=e;return(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:r.approve?"YES":"NO"}),(0,n.jsx)("td",{children:(0,n.jsx)("div",{className:"vote-table-col",children:(0,n.jsx)(eg.Z,{text:"#"+a})})}),(0,n.jsx)("td",{children:r.proposal.end_height})]},t)}))})]}),h("VOTE ON PROPOSAL","voteOnProposalAccord","voteJSON",[{title:"APPROVE",onClick:()=>l(a.voteJSON,!0)},{title:"REJECT",onClick:()=>l(a.voteJSON,!1)},{title:"DELETE",onClick:()=>z(a.voteJSON).then(e=>s({...a,voteOnProposalAccord:"1",toast:"Deleted!"}))}],!1),f(a,s),(0,n.jsx)("br",{}),h("SUBMIT PROPOSAL","propAccord","rawTx",[{title:"SUBMIT",onClick:()=>eu(a.rawTx).then(e=>{x(a,s,e,"tx hash copied to keyboard!")})}],!1,m.rawTx),(0,n.jsx)(ey.Z,{className:"propose-button",onClick:()=>c(0),variant:"outline-dark",children:"New Protocol Change"}),(0,n.jsx)(ey.Z,{className:"propose-button",onClick:()=>c(1),variant:"outline-dark",children:"New Treasury Subsidy"}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)(ej.Z,{show:a.showPropModal,size:"lg",onHide:d,children:(0,n.jsxs)(ev.Z,{onSubmit:function(e){g(a,e,e=>{0===a.txPropType?function(e,t,n,r,o,l,i,d,c){eo(e,t,n,r,o,l,i,d,c,!1).then(e=>{s({...a,txResult:e})})}(e.sender,e.param_space,e.param_key,e.param_value,e.start_block,e.end_block,e.memo,e.fee,e.password):function(e,t,n,r,o,l,i){el(e,t,n,r,o,l,i,!1).then(e=>{s({...a,txResult:e})})}(e.sender,e.amount,e.start_block,e.end_block,e.memo,e.fee,e.password)})},children:[(0,n.jsx)(ej.Z.Header,{closeButton:!0,children:(0,n.jsx)(ej.Z.Title,{children:0===a.txPropType?"Change Parameter":"Treasury Subsidy"})}),(0,n.jsxs)(ej.Z.Body,{style:{overflowWrap:"break-word"},children:[p(0===a.txPropType?"change-param":"dao-transfer",t.account).map((e,t)=>{let r=b(a.txResult)?"":"none";if("select"===e.type)switch(e.label){case"param_key":let o=[],l=a.apiResults.params[a.paramSpace];return l&&(o=Object.keys(l)),(0,n.jsx)(eb.Z,{style:{display:r},className:"mb-3",size:"lg",children:(0,n.jsxs)(ev.Z.Select,{size:"lg","aria-label":e.label,children:[(0,n.jsx)("option",{children:"param key"}),o.map((e,t)=>(0,n.jsx)("option",{value:e,children:e},t))]})},t);case"param_space":return(0,n.jsx)(eb.Z,{style:{display:r},className:"mb-3",size:"lg",children:(0,n.jsxs)(ev.Z.Select,{size:"lg",onChange:e=>s({...a,paramSpace:e.target.value}),"aria-label":e.label,children:[(0,n.jsx)("option",{children:"param space"}),(0,n.jsx)("option",{value:"Consensus",children:"consensus"}),(0,n.jsx)("option",{value:"Validator",children:"validator"}),(0,n.jsx)("option",{value:"Governance",children:"governance"}),(0,n.jsx)("option",{value:"Fee",children:"fee"})]})},t)}return(0,n.jsxs)(eb.Z,{style:{display:r},className:"mb-3",size:"lg",children:[y((0,n.jsx)(eb.Z.Text,{className:"param-input",children:e.inputText}),e.tooltip,t),(0,n.jsx)(ev.Z.Control,{placeholder:e.placeholder,required:e.required,defaultValue:e.defaultValue,type:e.type,min:0,minLength:e.minLength,maxLength:e.maxLength,"aria-label":e.label})]},t)}),b(a.txResult)?(0,n.jsx)(n.Fragment,{}):(0,n.jsx)(ef.ZP,{value:a.txResult,shortenTextAfterLength:100,displayDataTypes:!1})]}),(0,n.jsx)(ej.Z.Footer,{children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ey.Z,{style:{display:b(a.txResult)?"":"none"},id:"import-pk-button",variant:"outline-secondary",type:"submit",children:"Generate New Proposal"}),(0,n.jsx)(ey.Z,{variant:"secondary",onClick:d,children:"Close"})]})})]})})]})})}function eB(){let[e,t]=(0,ex.useState)({navIdx:0,keystore:null,keyIdx:0,account:{},validator:{}});function a(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.keyIdx;M().then(n=>{Promise.all([X(0,Object.keys(n)[a],0),Q(0,Object.keys(n)[a])]).then(r=>{t({...e,keyIdx:a,keystore:n,account:r[0],validator:r[1]})})})}return((0,ex.useEffect)(()=>{let e=setInterval(()=>{a()},4e3);return()=>clearInterval(e)}),null===e.keystore)?(a(),(0,n.jsx)(ek.Z,{id:"spinner"})):(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{id:"container",children:[(0,n.jsx)(k,{...e,setActiveKey:a,setNavIdx:a=>t({...e,navIdx:a})}),(0,n.jsx)("div",{id:"pageContent",children:0===e.navIdx?(0,n.jsx)(eP,{keygroup:Object.values(e.keystore)[e.keyIdx],...e}):1===e.navIdx?(0,n.jsx)(eJ,{...e}):(0,n.jsx)(eD,{})})]})})}eV.kL.register(eV.ZL,eV.uw,eV.f$,eV.u,eV.De)}},function(e){e.O(0,[196,473,888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);